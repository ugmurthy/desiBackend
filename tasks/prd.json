{
  "project": "desiBackend",
  "branchName": "ralph/openapi-swagger-docs",
  "description": "OpenAPI 3.0 specification generation and interactive API documentation with Scalar UI",
  "userStories": [
    {
      "id": "US-001",
      "title": "Install and configure OpenAPI documentation plugins",
      "description": "As a developer, I need Fastify configured with Swagger and Scalar so the API has auto-generated OpenAPI specs and interactive documentation.",
      "acceptanceCriteria": [
        "@fastify/swagger package installed",
        "@scalar/fastify-api-reference package installed",
        "Swagger plugin registered in app with OpenAPI 3.0 configuration",
        "API info (title, version, description) configured",
        "Scalar UI served at /api/v2/docs",
        "OpenAPI JSON available at /api/v2/docs/json",
        "UI renders correctly with all endpoints visible",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Add OpenAPI schemas to all route modules",
      "description": "As a developer, I want all API endpoints documented with request/response schemas and example values so consumers understand how to use each endpoint.",
      "acceptanceCriteria": [
        "All routes in src/routes/v2/auth.ts have OpenAPI schema definitions, tagged 'Authentication'",
        "All routes in src/routes/v2/users.ts have OpenAPI schema definitions, tagged 'Users'",
        "All routes in src/routes/v2/agents.ts have OpenAPI schema definitions, tagged 'Agents'",
        "All routes in src/routes/v2/executions.ts have OpenAPI schema definitions, tagged 'Executions'",
        "All routes in src/routes/v2/dags.ts have OpenAPI schema definitions, tagged 'DAGs'",
        "All routes in src/routes/v2/tools.ts have OpenAPI schema definitions, tagged 'Tools'",
        "All routes in src/routes/v2/billing.ts have OpenAPI schema definitions, tagged 'Billing'",
        "All routes in src/routes/v2/costs.ts have OpenAPI schema definitions, tagged 'Costs'",
        "All routes in src/routes/v2/admin.ts have OpenAPI schema definitions, tagged 'Admin'",
        "All routes in src/routes/v2/health.ts have OpenAPI schema definitions, tagged 'Health'",
        "Request body schemas defined for all POST/PUT/PATCH endpoints",
        "Response schemas defined with proper status codes (200, 400, 401, 404, 500, etc.)",
        "Example values included in all request/response schemas",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Add security schemes for authentication",
      "description": "As a developer, I want the OpenAPI spec to document authentication requirements so consumers know how to authenticate.",
      "acceptanceCriteria": [
        "Bearer token security scheme defined in OpenAPI config",
        "Protected routes marked with security requirements",
        "Scalar UI shows authentication options",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Export OpenAPI spec to file",
      "description": "As a developer, I want to export the OpenAPI spec to a JSON file for SDK generation.",
      "acceptanceCriteria": [
        "Script created at scripts/export-openapi.ts",
        "Script outputs spec to artifacts/openapi.json",
        "artifacts/openapi.json added to .gitignore",
        "npm script added: 'export-openapi': 'bun run scripts/export-openapi.ts'",
        "Generated spec is valid OpenAPI 3.0",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": false,
      "notes": ""
    }
  ]
}
